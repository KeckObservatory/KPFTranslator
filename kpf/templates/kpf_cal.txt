{
    "metadata": {
        "instrument": "KPF",
        "name": "kpf_cal",
        "script": "CONFIGURE_SCIENCE          # Powers on lamps\nEXECUTE_OBSERVATION        # Executes all specified lamps in loop in translator\nPOST_OBSERVATION_CLEANUP   # Turns off lamps",
        "script_version": "0.3.0",
        "template_type": "calibration",
        "ui_name": "KPF calibration",
        "version": "0.4.0"
    },
    "parameters": {
        "darksequence": {
            "allowed": {
                "exptime": {
                    "allowed": [
                        0.1,
                        3600
                    ],
                    "default": 1,
                    "description": "Exposure time in seconds",
                    "option": "range",
                    "optionality": "required",
                    "type": "float",
                    "ui_name": "Exposure time in seconds",
                    "units": "seconds"
                },
                "n_exposures": {
                    "allowed": [
                        1,
                        100
                    ],
                    "default": 1,
                    "description": "Number of exposures to take",
                    "option": "range",
                    "optionality": "required",
                    "type": "int",
                    "ui_name": "Number of exposures to take",
                    "units": null
                },
                "object": {
                    "default": "",
                    "description": "Value for the object keyword",
                    "option": "open",
                    "optionality": "optional",
                    "type": "string",
                    "ui_name": "Value for the object keyword",
                    "units": null
                }
            },
            "description": "Dark and bias exposures",
            "option": "set",
            "optionality": "required",
            "type": "array",
            "ui_name": "Dark and bias exposures",
            "units": null
        },
        "lampsequence": {
            "allowed": {
                "calnd1": {
                    "allowed": [
                        "OD 0.1",
                        "OD 1.0",
                        "OD 1.3",
                        "OD 2.0",
                        "OD 3.0",
                        "OD 4.0"
                    ],
                    "default": "OD 0.1",
                    "description": "Filter to use in the ND1 filter wheel",
                    "option": "set",
                    "optionality": "required",
                    "type": "str",
                    "ui_name": "Filter to use in the ND1 filter wheel",
                    "units": null
                },
                "calnd2": {
                    "allowed": [
                        "OD 0.1",
                        "OD 0.3",
                        "OD 0.5",
                        "OD 0.8",
                        "OD 1.0",
                        "OD 4.0"
                    ],
                    "default": "OD 0.1",
                    "description": "Filter to use in the ND2 filter wheel",
                    "option": "set",
                    "optionality": "required",
                    "type": "str",
                    "ui_name": "Filter to use in the ND2 filter wheel",
                    "units": null
                },
                "calsource": {
                    "allowed": [
                        "Home",
                        "EtalonFiber",
                        "BrdbandFiber",
                        "U_gold",
                        "U_daily",
                        "Th_daily",
                        "Th_gold",
                        "SoCal-CalFib",
                        "LFCFiber"
                    ],
                    "default": "Home",
                    "description": "Calibration source to use",
                    "option": "set",
                    "optionality": "required",
                    "type": "str",
                    "ui_name": "Calibration source to use",
                    "units": null
                },
                "exptime": {
                    "allowed": [
                        0.1,
                        3600
                    ],
                    "default": 1,
                    "description": "Exposure time in seconds",
                    "option": "range",
                    "optionality": "required",
                    "type": "float",
                    "ui_name": "Exposure time in seconds",
                    "units": "seconds"
                },
                "fffiberpos": {
                    "allowed": [
                        "Blank",
                        "6 mm f/5",
                        "7.5 mm f/4",
                        "10 mm f/3",
                        "13.2 mm f/2.3",
                        "Open"
                    ],
                    "default": "open",
                    "description": "Flat field aperture choice.",
                    "option": "set",
                    "optionality": "optional",
                    "type": "str",
                    "ui_name": "Flat field aperture choice.",
                    "units": null
                },
                "n_exposures": {
                    "allowed": [
                        1,
                        100
                    ],
                    "default": 1,
                    "description": "Number of exposures to take",
                    "option": "range",
                    "optionality": "required",
                    "type": "int",
                    "ui_name": "Number of exposures to take",
                    "units": null
                },
                "object": {
                    "default": "",
                    "description": "Value for the object keyword",
                    "option": "open",
                    "optionality": "optional",
                    "type": "string",
                    "ui_name": "Value for the object keyword",
                    "units": null
                },
                "sss_science": {
                    "default": false,
                    "description": "Should the source select shutter for science be open?",
                    "option": "boolean",
                    "optionality": "required",
                    "type": "boolean",
                    "ui_name": "Should the source select shutter for science be open?",
                    "units": null
                },
                "sss_sky": {
                    "default": false,
                    "description": "Should the source select shutter for sky be open?",
                    "option": "boolean",
                    "optionality": "required",
                    "type": "boolean",
                    "ui_name": "Should the source select shutter for sky be open?",
                    "units": null
                },
                "ts_simulcal": {
                    "default": false,
                    "description": "Should the timed shutter for simultaneous calibration fiber be opened during exposure?",
                    "option": "boolean",
                    "optionality": "required",
                    "type": "boolean",
                    "ui_name": "Should the timed shutter for simultaneous calibration fiber be opened during exposure?",
                    "units": null
                }
            },
            "description": "Lamp exposures",
            "option": "set",
            "optionality": "required",
            "type": "array",
            "ui_name": "Lamp exposures",
            "units": null
        },
        "runagitator": {
            "default": false,
            "description": "Run the agitator during exposures?",
            "option": "boolean",
            "optionality": "required",
            "type": "boolean",
            "ui_name": "Run the agitator during exposures?",
            "units": null
        },
        "triggercahk": {
            "default": false,
            "description": "Trigger the Ca H&K detector?",
            "option": "boolean",
            "optionality": "required",
            "type": "boolean",
            "ui_name": "Trigger the Ca H&K detector?",
            "units": null
        },
        "triggergreen": {
            "default": false,
            "description": "Trigger the green detector?",
            "option": "boolean",
            "optionality": "required",
            "type": "boolean",
            "ui_name": "Trigger the green detector?",
            "units": null
        },
        "triggerred": {
            "default": false,
            "description": "Trigger the red detector?",
            "option": "boolean",
            "optionality": "required",
            "type": "boolean",
            "ui_name": "Trigger the red detector?",
            "units": null
        }
    }
}