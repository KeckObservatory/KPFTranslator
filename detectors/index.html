<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Josh Walawender" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Detectors - KPF</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Detectors";
        var mkdocs_page_input_path = "detectors.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> KPF
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">KPF Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Instrument Info</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" >Instrument Subsystems</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../spectrograph/">Spectrograph</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../fiu/">FIU</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../guider/">Guider</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../cahk/">Ca H&K Spectrograph</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../exposuremeter/">Exposure Meter</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../calbench/">Calibration Bench</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../agitator/">Agitator</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Instrument Specifications</a>
    <ul class="current">
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Detectors</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../sensitivity/">Sensitivity</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../dataformat/">Data Format</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../KPFvsHIRES/">KPF vs. HIRES</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../KPFTranslator/">Instrument Software</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Observing with KPF</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../afternoonsetup/">Afternoon Setup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../OBparameters/">OB Parameters</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../observingprocedures/">Observing Procedures</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="https://koa.ipac.caltech.edu/rti-gui/login">Retrieve Data in Real Time</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../kpfdrp/">Data Reduction</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">General Observing Info</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Weather</a>
    <ul>
                <li class="toctree-l2"><a class="" href="http://mkwc.ifa.hawaii.edu/forecast/mko/index.cgi">MK Weather Center</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://www3.keck.hawaii.edu/skycams/CloudCamTimelapse.html">Keck Cloud Cameras</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Useful Keck Pages</a>
    <ul>
                <li class="toctree-l2"><a class="" href="https://www2.keck.hawaii.edu/observing/keckSchedule/keckSchedule.php">Telescope Schedule</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://www.keck.hawaii.edu/realpublic/inst/common/starlist.html">Target List Format</a>
                </li>
                <li class="toctree-l2"><a class="" href="http://www2.keck.hawaii.edu/inst/">Keck Instruments</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://www.keckobservatory.org/observing/">General Keck Observing Info</a>
                </li>
                <li class="toctree-l2"><a class="" href="https://www.keck.hawaii.edu/realpublic/inst/kpf/pre-observing_checklist.html">Pre-observing Checklist</a>
                </li>
                <li class="toctree-l2"><a class="" href="http://www2.keck.hawaii.edu/inst/common/mainland_observing.html">Remote Observing</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Telescope Specifications</a>
    <ul>
                <li class="toctree-l2"><a class="" href="https://www.keck.hawaii.edu/realpublic/inst/common/TelLimits.html">Limits</a>
                </li>
                <li class="toctree-l2"><a class="" href="http://www2.keck.hawaii.edu/observing/kecktelgde/ktelinstupdate.pdf">Telescope Info</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Keck Policies</a>
    <ul>
                <li class="toctree-l2"><a class="" href="http://www2.keck.hawaii.edu/observing/SplitNights.html">Split Nights</a>
                </li>
                <li class="toctree-l2"><a class="" href="http://www2.keck.hawaii.edu/inst/common/mainland_observing.html">Remote Observing</a>
                </li>
                <li class="toctree-l2"><a class="" href="http://www2.keck.hawaii.edu/observing/policies.html">Other Policies</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">After Your Observing Run</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="https://www2.keck.hawaii.edu/inst/PILogin/login.php">Post-observing Comment Form</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Retrieve Your Data</a>
    <ul>
                <li class="toctree-l2"><a class="" href="https://koa.ipac.caltech.edu/">Retrieve Data from KOA</a>
                </li>
                <li class="toctree-l2"><a class="" href="http://koa.ipac.caltech.edu/UserGuide/PyKOA/notebooks/PyKOA_KPF_introduction.html">Retrieve Data using PyKOA</a>
                </li>
                <li class="toctree-l2"><a class="" href="http://www2.keck.hawaii.edu/realpublic/koa/public/KOA_data_policy.pdf">Data Proprietary Period</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="" href="https://www2.keck.hawaii.edu/observing/keck_authors.html">Acknowledging Keck</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../references/">Acknowledging KPF</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Technical Documentation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../scripts/scripts/">Operations Scripts</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="https://keckobservatory.atlassian.net/wiki/external/Yzg1NGM2NzVkMjUwNGRmMGE4ODBiNThiNWY1YzViY2U">Troubleshooting</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">KPF</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Instrument Info</li>
          <li class="breadcrumb-item">Instrument Specifications</li>
      <li class="breadcrumb-item active">Detectors</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="overview-and-exposure-timing">Overview and Exposure Timing</h1>
<p>KPF utilizes 5 detectors during normal science operations. Two science detectors (green and red) sit on the main spectrograph bench in the facility basement and record the science spectrum which is used to calculate radial velocities. The Ca H&amp;K Spectrograph is an independant optical system fed by a short fiber which runs from the FIU to a nearby echelle spectrograph which contains the third science detector. The exposure meter is another independent spectrograph which sits in the basement and contains the forth science detector. The fifth detector used during science operations is the CRED2 in the FIU and obtains fast frame rate images used to run the tip tilt system.</p>
<p>Because precision radial velocity measurements require exquisite timing, the red and green detectors must have their exposures synced up. To do this, KPF uses a timed shutter on their common light path (before the dichroic splits the light). This is the "Scrambler Timed Shutter". As a result, the red and green cameras are not triggered independently. Instead the KPF software takes a single set of exposure parameters and triggers each camera to begin an exposure, then opens and closes timed shutters to ensure simultaneity where needed.</p>
<p>In addition, the Scrambler Timed Shutter, also gates the light going to the exposure meter to ensure that its sensitivity to light is simultaneous to the red and green detectors.</p>
<p>The Ca H&amp;K spectrograph has its own, separate timed shutter as it is on a completely independent light path to the other detectors. </p>
<h1 id="science-detector-specifications">Science Detector Specifications</h1>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Green CCD</th>
<th>Red CCD</th>
<th>Ca H&amp;K CCD</th>
</tr>
</thead>
<tbody>
<tr>
<td>Readout Time</td>
<td>47 s</td>
<td>47 s</td>
<td>1 s</td>
</tr>
<tr>
<td>Read Noise</td>
<td>AMP1: 4.0 e-<br>AMP2: 4.9 e-</td>
<td>AMP1: 4.1 e-<br>AMP2: 4.2 e-</td>
<td></td>
</tr>
<tr>
<td>Format</td>
<td>4080x4080</td>
<td>4080x4080</td>
<td></td>
</tr>
<tr>
<td>Gain</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Data Format</td>
<td>32 bit</td>
<td>32 bit</td>
<td>16 bit</td>
</tr>
</tbody>
</table>
<p>Note that the Green and Red science detectors have 32 bit readouts instead of the more common 16 bit (which the Ca H&amp;K detector uses).  This means that the values of the raw image pixels are not in the usual 0-65535 range for CCDs, but are instead much larger.  To convert to the more usual range we are used to, divide by 2^16 (65536) to get ADU values in that range.</p>
<h1 id="fast-read-mode">Fast Read Mode</h1>
<h2 id="summary">Summary</h2>
<p>The Green and Red science detectors can operate in a fast readout mode.  This reduces the readout time to 16 seconds (and significantly increases the read noise), however changing the readout modes induces a temperature change at the detectors which can impact PRV measurements.  As a result, fast read mode observations should be limited to those instances where it is critical to the science (e.g. seismology or other high cadence observations of a single target) and which are scheduled such that the mode change will not have overly negative impact on other science that night. Fast read mode is not appropriate for long term cadenced RV measurements as the two read modes have different systematic offsets and so RV measurements of the same target taken in different modes can not be easily combined.</p>
<h2 id="details">Details</h2>
<p>The KPF main spectrometer CCDs can be operated in two read modes: normal and fast.  The main difference is the time to read the CCDs, which is 47 sec in normal-read mode and 16 sec in fast-read mode.  In general, KPF observations should be taken in normal-read mode unless there is a highly compelling reason to operate in fast-read mode.</p>
<p>The fast-read mode is only offered for KPF observations where the speed will aid in resolving fast astrophysical phenomena (e.g., seismology) or for cases where short exposure times are required to avoid saturation and the efficiency is significantly improved by also reading the CCDs quickly (e.g., observing a very bright star during a planetary transit).  This applies to sequences of exposures ranging from 1 hour to 1 night in duration.  The fast-read mode should not be used to improve the efficiency of individual exposure or short sequences of exposures, which comprise the vast majority of KPF observations.</p>
<p>The motivation for this strategy is that <strong>changing between the two modes imparts a ~10 mK temperature transient</strong> to the CCDs, which shift and stretch at the nanometer level in response.  These perturbations violate the operating requirements of maintaining 1 mK rms temperature stability of the CCDs and lead to systematic errors in Doppler measurements on short timescales (&lt; 20-30 min).  On longer timescales, the CCDs appear to relax back to their original state, but this has not been measured at the sub-30 cm/s level.  Out of conservatism, KPF is toggled between read modes as infrequently as possible.</p>
<p>Automated daily calibration sequences are taken in the normal-read mode and are used in the KPF Data Reduction Pipeline (DRP) to process spectra taken with both read modes.  <strong>Radial velocities measured from KPF spectra in the two modes are offset; users cannot combine RVs from the two modes in a time series.</strong>  On the other hand, RVs measured from spectra taken in the fast-read mode during a single night (which are processed with a common set of calibrations) have high Doppler stability over that night-long timescale; this is the main use case for the fast-read mode.</p>
<p>Some additional tradeoffs to consider are the increased read noise and the charge transfer inefficiency (CTI) in fast-read mode. As listed in the table below, the read noise (measured in rms noise per CCD pixel) is 1.5-2X higher in fast-read mode. This limits the utility of this mode for faint sources, which have higher Poisson noise per CCD pixel in the source spectrum.  In fast-read mode, the CCDs are read out using four amplifiers at a higher clock speed (instead of two amplifiers at a slower speed).  This strategy brings one amplifier on the Green CCD into play that has ~100x higher CTI than the others.  CTI smears the spectrum along the direction of the CCD rows (leaving a trail of charge along pixels as they are clocked).  As a result, stellar lines in the affected quadrant are smeared in the dispersion direction.  The intensity of the effect depends on the number of electrons in each pixel (i.e., the SNR of the spectrum), making this effect very difficult to calibrate for precise RV measurements.  When computing RVs for fast-read mode spectra, the KPF DRP ignores portions of the spectrum in the affected quadrant.  This increases the RV uncertainties in the fast-read mode and adds an additional RV zero-point offset between measurements in the two modes.  Fast spectroscopy to measure changes in line intensity (not line shape or center) can still be accomplished using spectra from the affected quadrant.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Normal Read Mode</th>
<th>Fast Read Mode</th>
</tr>
</thead>
<tbody>
<tr>
<td>Readout Time</td>
<td>47 s</td>
<td>16 s</td>
</tr>
<tr>
<td>Read Noise</td>
<td>Green: 4.0, 4.9 e-<br>Red: 4.1, 4.2 e-</td>
<td>Green: 8.2, 9.7, 8.6, 6.9 e-<br>Red: 6.0, 5.8, 8.2, 6.6 e-</td>
</tr>
<tr>
<td>Charge Transfer</td>
<td></td>
<td>One green amp has ~100x higher CTI</td>
</tr>
<tr>
<td>Use Cases</td>
<td>Most KPF observations,<br>including cadence RPV measurements<br>and general spectroscopy</td>
<td>Sequences of short exposures whose<br>duration is 1 hour to 1 night.</td>
</tr>
</tbody>
</table>
<p>If you have questions about utilizing fast read mode, please contact <a href="mailto:kpf_info@keck.hawaii.edu">kpf_info</a> well ahead of your run.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../agitator/" class="btn btn-neutral float-left" title="Agitator"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../sensitivity/" class="btn btn-neutral float-right" title="Sensitivity">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/KeckObservatory/KPFTranslator/" class="fa fa-code-fork" style="color: #fcfcfc"> KPFTranslator</a>
        </span>
    
    
      <span><a href="../agitator/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../sensitivity/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
