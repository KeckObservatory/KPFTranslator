{
"metadata" : {
    "name" : "kpf_sci_stare",
    "ui_name" : "KPF Stare Observation",
    "instrument" : "KPF",
    "template_type" : "science",
    "version" : "0.3",
    "script" : "kpf_sci_script"
},
"parameters" : {
    "TARGET_INFO_Teff" : {
        "ui_name" : "Effective temperature input to DRP",
        "option" : "range",
        "allowed" : [
            0,
            20000,
        ],
        "default" : null,
        "optionality" : "optional",
        "type" : "float",
        "units" : "Kelvin",
    },

    "INST_CFG_ExpMeter_Active" : {
        "ui_name" : "Use the exposure meter to end the exposure?",
        "option" : "set",
        "allowed" : [True, False],
        "default" : True,
        "optionality" : "required",
        "type" : "boolean",
        "units" : null
    },
    "INST_CFG_ExpMeter_Band" : {
        "ui_name" : "Which wavelength band to end exposure based on.",
        "option" : "set",
        "allowed" : [1, 2, 3, 4],
        "default" : 1,
        "optionality" : "optional",
        "type" : "int",
        "units" : null
    },
    "INST_CFG_ExpMeter_Flux" : {
        "ui_name" : "Flux level on exposure meter at which to end exposure.",
        "option" : "range",
        "allowed" : [1, 1e10],
        "default" : 1e5,
        "optionality" : "optional",
        "type" : "float",
        "units" : null
    },
    "INST_CFG_TriggerCaHK" : {
        "ui_name" : "Trigger the Ca H&K detector?",
        "option" : "set",
        "allowed" : [True, False],
        "default" : True,
        "optionality" : "required",
        "type" : "boolean",
        "units" : null
    },
    "INST_CFG_TriggerGreen" : {
        "ui_name" : "Trigger the green detector?",
        "option" : "set",
        "allowed" : [True, False],
        "default" : True,
        "optionality" : "required",
        "type" : "boolean",
        "units" : null
    },
    "INST_CFG_TriggerRed" : {
        "ui_name" : "Trigger the red detector?",
        "option" : "set",
        "allowed" : [True, False],
        "default" : True,
        "optionality" : "required",
        "type" : "boolean",
        "units" : null
    },
    "SEQ_Observations" : {
        "ui_name" : "Calibration sources and exposures",
        "option" : "set",
        "default" : null,
        "optionality" : "required",
        "type" : "array",
        "allowed" : [
            {
            "INST_CFG_Object" : {
                "ui_name" : "Value for the OBJECT keyword",
                "option" : "open",
                "default" : null,
                "optionality" : "required",
                "type" : "string",
                "units" : null
            },
            "INST_CFG_nExp" : {
                "ui_name" : "Number of exposures to take.",
                "option" : "range",
                "allowed" : [1, 100],
                "default" : 1,
                "optionality" : "required",
                "type" : "int",
                "units" : null
            },
            "INST_CFG_Exptime" : {
                "ui_name" : "Exposure time of an individual science exposure.",
                "option" : "range",
                "allowed" : [1, 3600],
                "default" : 1,
                "optionality" : "required",
                "type" : "float",
                "units" : "seconds"
            },
            "INST_CFG_SSS_Science" : {
                "ui_name" : "Should the source select shutter for science be open?",
                "option" : "set",
                "allowed" : [
                    True,
                    False
                ],
                "default" : True,
                "optionality" : "required",
                "type" : "boolean",
                "units" : null
            },
            "INST_CFG_SSS_Sky" : {
                "ui_name" : "Should the source select shutter for sky be open?",
                "option" : "set",
                "allowed" : [
                    True,
                    False
                ],
                "default" : True,
                "optionality" : "required",
                "type" : "boolean",
                "units" : null
            },
            "INST_CFG_CalSource" : {
                "ui_name" : "Source to illuminate the simultaneous cal fiber (i.e. octagon position)",
                "option" : "set",
                "allowed" : [
                ],
                "default" : null,
                "optionality" : "required",
                "type" : "string",
                "units" : null
            },
            "INST_CFG_TimedShutter_SimulCal" : {
                "ui_name" : "Trigger the timed shutter for the simultaneous calibration fiber?",
                "option" : "set",
                "allowed" : [True, False],
                "default" : True,
                "optionality" : "required",
                "type" : "boolean",
                "units" : null
            },
            "INST_CFG_CalAutoFilter" : {
                "ui_name" : "System should automatically set ND filters for cal source?",
                "option" : "set",
                "allowed" : [
                    True,
                    False
                ],
                "default" : False,
                "optionality" : "required",
                "type" : "boolean",
                "units" : null
            },
            "INST_CFG_SimulCalND1" : {
                "ui_name" : "ND filter in first filter wheel if INST_CFG_SimulCalAutoFilter is not True",
                "option" : "set",
                "allowed" : [
                    # To be pulled from keywords
                ],
                "default" : "ND0.1",
                "optionality" : "optional",
                "type" : "string",
                "units" : null
            },
            "INST_CFG_SimulCalND2" : {
                "ui_name" : "ND filter in second filter wheel if INST_CFG_SimulCalAutoFilter is not True",
                "option" : "set",
                "allowed" : [
                    # To be pulled from keywords
                ],
                "default" : "ND0.1",
                "optionality" : "optional",
                "type" : "string",
                "units" : null
            },
        },
        ],
    }
    "INST_CFG_Guide_Mode" : {
        "ui_name" : "Mode for the guide camera",
        "option" : "set",
        "allowed" : [
            "auto",
            "manual",
            "off"
        ],
        "default" : "auto",
        "optionality" : "required",
        "type" : "string",
        "units" : null
    },
    "INST_CFG_Guide_FPS" : {
        "ui_name" : "If INST_CFG_Guide_Mode is manual, frame rate for camera",
        "option" : "range",
        "allowed" : [
            0.05,
            400
        ],
        "default" : 100,
        "optionality" : "optional",
        "type" : "float",
        "units" : "Hz"
    },
    "INST_CFG_Guide_CamGain" : {
        "ui_name" : "If INST_CFG_Guide_Mode is manual, gain for camera",
        "option" : "set",
        "allowed" : [
            "high",
            "medium",
            "low"
        ],
        "default" : "high",
        "optionality" : "optional",
        "type" : "string",
        "units" : null
    },
    "INST_CFG_Guide_LoopGain" : {
        "ui_name" : "If INST_CFG_Guide_Mode is manual, tip tilt loop gain",
        "option" : "range",
        "allowed" : [
            0,
            1
        ],
        "default" : null,
        "optionality" : "optional",
        "type" : "float",
        "units" : null,
    },
    "INST_CFG_Guide_WindowX" : {
        "ui_name" : "Size of the guide window in X pixels",
        "option" : "range",
        "allowed" : [
            0,
            640
        ],
        "default" : 64,
        "optionality" : "required",
        "type" : "int",
        "units" : null,
    },
    "INST_CFG_Guide_WindowY" : {
        "ui_name" : "Size of the guide window in Y pixels",
        "option" : "range",
        "allowed" : [
            0,
            640
        ],
        "default" : 64,
        "optionality" : "required",
        "type" : "int",
        "units" : null,
    },
    "INST_CFG_Guide_RAOffset" : {
        "ui_name" : "Offset distance in RA from the guide star to science target",
        "option" : "range",
        "allowed" : [
            -20,
            20
        ],
        "default" : 0,
        "optionality" : "required",
        "type" : "float",
        "units" : "arcsec",
    },
    "INST_CFG_Guide_DecOffset" : {
        "ui_name" : "Offset distance in Dec from the guide star to science target",
        "option" : "range",
        "allowed" : [
            -20,
            20
        ],
        "default" : 0,
        "optionality" : "required",
        "type" : "float",
        "units" : "arcsec",
    },
}
